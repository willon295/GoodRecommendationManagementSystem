# GoodRecommendationManagementSystem

基于Hadoop简单商品推荐引擎

## 基于用户

用户购买的物品重合度高，那么用户相似度比较高。 相似度高的用户之间进行物品推荐


## 基于物品

物品的相似度： 物品的共现次数
物品同时被用户购买的次数，即销量接近，我们认为这些物品之间的相似度高。给用户推荐相似度高的物品 


1. 物品的相似度矩阵  × 用户购买向量

# 用户购买向量矩阵

|用户|物品|是否购买|
|---|---|---|
|10001|20001|1|
|10001|20001|1|


# 原始数据

|用户|物品|是否购买|
|---|---|---|
|10001|20001|1|
|10001|20002|1|
|10002|20001|1|

## 目的

根据不同用户之间的购买行为，向用户推荐未购买的商品


# 推荐结果

|用户|物品|推荐度|
|---|---|---|
|10001|20004|2|
|10001|20003|3|
|10001|20006|1|


# 步骤

1. 计算用户的购买列表
```
用户  物品1,物品2,物品3...
```
2. 生成物品的共现关系
```
物品1  物品2
物品1  物品3
....
```
3. 计算共现次数
```
物品 物品1:次数，物品2：次数,物品3：次数...
```
4. 计算用户的购买向量
源数据：可以使第一步的结果，可以使最初的数据，结果数据
```
物品1  用户1:1,用户2:1
```
5. 物品的共现次数矩阵×用户的购买向量
- 直接相乘形成临时数据
两个输入文件： 第三步的结果(物品共现矩阵)，第四步的结果(用户购买向量)，所以需要 `两个自定义Mapper`， `一个recuder` 处理。
> 保证 `两个mapper` 的 `key` 相同，`两个mapper` 的 输出 `key,value` 数据类型相同
作业配置中 `mapper`需要使用 多输入

6. 将相同结果进行合并，求和
7. 推荐结果数据 和 原始数据进行比较， 去掉掉用户已经购买的商品
8. 最终推荐结果写入 `MySQL` 数据库
9. 创建作业流 ，调度 1-8 